.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
}
overall_run(.in_fleet = read_rds("data-raw/model-inputs/projected_fleet_in-10.rds"))
overall_run <- function(#costs
.in_fleet,
.in_target_file = targets_and_bau,
.in_target_scenario = "target_central",
.in_bau_scenario = "bau",
.in_cost_curves = cost_curves,
.in_estimate = "central",
.in_suv_existing_tech = 20,
.in_passenger_existing_tech = 13,
.in_lcv_existing_tech = 15,
.in_run_to_year = 2050,
#benefits
.fleet,
.in_km_travelled = km_travelled,
..in_fuel_prices = fuel_prices,
.in_electricity_prices = electricity_prices,
.in_energy_consumption = energy_consumption,
.in_energy_intensity = energy_intensity,
.in_gap = 1.2,
.in_fuel_scenario = "central",
.in_electricity_scenario = "central",
.in_run_to_year = 2060,
#and the diesel shares in each category
.in_passenger_diesel = 0.02,
.in_suv_diesel = 0.21,
.in_lcv_diesel = 0.92,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.in_premium_95 = 0.15,
.in_premium_98 = 0.05
) {
#first running the costs side of model for the target
.target_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_target_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#and now running costs for the BAU scenario
.bau_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_bau_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#now onto the benefits side of the model
.target_done <- benefit_model(.fleet = .target_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#now onto the benefits side of the model
.bau_done <- benefit_model(.fleet = .bau_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#putting it all together to get the results
results <- generate_results(bau_benefits = .bau_done,
target_benefits = .target_done)
return{results}
}
return(results)
overall_run <- function(#costs
.in_fleet,
.in_target_file = targets_and_bau,
.in_target_scenario = "target_central",
.in_bau_scenario = "bau",
.in_cost_curves = cost_curves,
.in_estimate = "central",
.in_suv_existing_tech = 20,
.in_passenger_existing_tech = 13,
.in_lcv_existing_tech = 15,
.in_run_to_year = 2050,
#benefits
.fleet,
.in_km_travelled = km_travelled,
..in_fuel_prices = fuel_prices,
.in_electricity_prices = electricity_prices,
.in_energy_consumption = energy_consumption,
.in_energy_intensity = energy_intensity,
.in_gap = 1.2,
.in_fuel_scenario = "central",
.in_electricity_scenario = "central",
.in_run_to_year = 2060,
#and the diesel shares in each category
.in_passenger_diesel = 0.02,
.in_suv_diesel = 0.21,
.in_lcv_diesel = 0.92,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.in_premium_95 = 0.15,
.in_premium_98 = 0.05
) {
#first running the costs side of model for the target
.target_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_target_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#and now running costs for the BAU scenario
.bau_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_bau_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#now onto the benefits side of the model
.target_done <- benefit_model(.fleet = .target_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#now onto the benefits side of the model
.bau_done <- benefit_model(.fleet = .bau_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#putting it all together to get the results
results <- generate_results(bau_benefits = .bau_done,
target_benefits = .target_done)
return(results)
}
overall_run <- function(#costs
.in_fleet,
.in_target_file = targets_and_bau,
.in_target_scenario = "target_central",
.in_bau_scenario = "bau",
.in_cost_curves = cost_curves,
.in_estimate = "central",
.in_suv_existing_tech = 20,
.in_passenger_existing_tech = 13,
.in_lcv_existing_tech = 15,
.in_run_to_year = 2050,
#benefits
.fleet,
.in_km_travelled = km_travelled,
.in_fuel_prices = fuel_prices,
.in_electricity_prices = electricity_prices,
.in_energy_consumption = energy_consumption,
.in_energy_intensity = energy_intensity,
.in_gap = 1.2,
.in_fuel_scenario = "central",
.in_electricity_scenario = "central",
.in_run_to_year = 2060,
#and the diesel shares in each category
.in_passenger_diesel = 0.02,
.in_suv_diesel = 0.21,
.in_lcv_diesel = 0.92,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.in_premium_95 = 0.15,
.in_premium_98 = 0.05
) {
#first running the costs side of model for the target
.target_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_target_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#and now running costs for the BAU scenario
.bau_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_bau_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#now onto the benefits side of the model
.target_done <- benefit_model(.fleet = .target_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#now onto the benefits side of the model
.bau_done <- benefit_model(.fleet = .bau_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#putting it all together to get the results
results <- generate_results(bau_benefits = .bau_done,
target_benefits = .target_done)
return(results)
}
#now onto the benefits side of the model
.bau_done <- benefit_model(.fleet = .bau_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_benefit_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
overall_run <- function(#costs
.in_fleet,
.in_target_file = targets_and_bau,
.in_target_scenario = "target_central",
.in_bau_scenario = "bau",
.in_cost_curves = cost_curves,
.in_estimate = "central",
.in_suv_existing_tech = 20,
.in_passenger_existing_tech = 13,
.in_lcv_existing_tech = 15,
.in_run_to_year = 2050,
#benefits
.fleet,
.in_km_travelled = km_travelled,
.in_fuel_prices = fuel_prices,
.in_electricity_prices = electricity_prices,
.in_energy_consumption = energy_consumption,
.in_energy_intensity = energy_intensity,
.in_gap = 1.2,
.in_fuel_scenario = "central",
.in_electricity_scenario = "central",
.in_benefit_run_to_year = 2060,
#and the diesel shares in each category
.in_passenger_diesel = 0.02,
.in_suv_diesel = 0.21,
.in_lcv_diesel = 0.92,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.in_premium_95 = 0.15,
.in_premium_98 = 0.05
) {
#first running the costs side of model for the target
.target_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_target_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#and now running costs for the BAU scenario
.bau_compliant <- compliance_costs(.fleet = .in_fleet,
.target_file = .in_target_file,
.target_scenario = .in_bau_scenario,
.cost_curves = .in_cost_curves,
.estimate = .in_estimate,
.suv_existing_tech = .in_suv_existing_tech,
.passenger_existing_tech = .in_passenger_existing_tech,
.lcv_existing_tech = .in_lcv_existing_tech,
.run_to_year = .in_run_to_year)
#now onto the benefits side of the model
.target_done <- benefit_model(.fleet = .target_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_benefit_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#now onto the benefits side of the model
.bau_done <- benefit_model(.fleet = .bau_compliant,
.km_travelled = .in_km_travelled,
.fuel_prices = .in_fuel_prices,
.electricity_prices = .in_electricity_prices,
.energy_consumption = .in_energy_consumption,
.energy_intensity = .in_energy_intensity,
.gap = .in_gap,
.fuel_scenario = .in_fuel_scenario,
.electricity_scenario = .in_electricity_scenario,
.run_to_year = .in_benefit_run_to_year,
#and the diesel shares in each category
.passenger_diesel = .in_passenger_diesel,
.suv_diesel = .in_suv_diesel,
.lcv_diesel = .in_lcv_diesel,
#the racv says about 20% of cars run on premium fuels. We are assuming that this is
#15% 95oct and 5% 98, but there is not hard data on this
.premium_95 = .in_premium_95,
.premium_98 = .in_premium_98)
#putting it all together to get the results
results <- generate_results(bau_benefits = .bau_done,
target_benefits = .target_done)
return(results)
}
overall_run(.fleet = read_rds("data-raw/model-inputs/projected_fleet_in-10.rds"))
overall_run(.in_fleet = read_rds("data-raw/model-inputs/projected_fleet_in-10.rds"))
load_all()
overall_run(.in_fleet = read_rds("data-raw/model-inputs/projected_fleet_in-10.rds"))
document()
check()
?inner_join
document()
check()
fleet_creator(.i_cars = 200)
.fleet_creator <- TRUE
if (.fleet_creator == TRUE) {
.in_fleet <- fleet_creator(.i_cars = .in_cars)
} else {
.in_fleet <- .input_fleet
}
.in_cars = 100
if (.fleet_creator == TRUE) {
.in_fleet <- fleet_creator(.i_cars = .in_cars)
} else {
.in_fleet <- .input_fleet
}
.in_cars
.in_fleet
.in_cars = 400
if (.fleet_creator == TRUE) {
.in_fleet <- fleet_creator(.i_cars = .in_cars)
} else {
.in_fleet <- .input_fleet
}
.in_fleet
.fleet_creator <- FALSE
.input_fleet <- read_rds("data-raw/model-inputs/projected_fleet_in-100.rds")
if (.fleet_creator == TRUE) {
.in_fleet <- fleet_creator(.i_cars = .in_cars)
} else {
.in_fleet <- .input_fleet
}
.in_fleet
load_all()
fleet_eff_sim(.in_cars = 400)
2.14/2.12
document()
check()
?cost_cirves
?cost_curves
cost_curves
cost_curves %>% view()
late_pp <- fleet_eff_sim(.estimate = late_pp)
central <- fleet_eff_sim(.estimate = central)
early_pp <- fleet_eff_sim(.estimate = early_pp)
late_pp <- fleet_eff_sim(.in_estimate = late_pp)
central <- fleet_eff_sim(.in_estimate = central)
early_pp <- fleet_eff_sim(.in_estimate = early_pp)
early_pp <- fleet_eff_sim(.in_estimate = "early_pp")
cost_curves %>% view()
central <- fleet_eff_sim(.in_estimate = "central")
late_pp <- fleet_eff_sim(.in_estimate = "late_pp")
load_all()
cost_curves %>% view()
check()
cost_curves %>% view()
#script to import all required data for model
library(readr)
library(readxl)
#data for the cost model
cost_curves <- read_rds("data-raw/cost-curves/cost_curves.rds")
#the targets and bau file
bau <- read_rds("data-raw/bau_scenarios/bau_emissions_trajectory.rds") %>%
filter(scenario == "slow") %>%
select(year, total_emissions) %>%
rename("bau" = total_emissions)
targets <- read_xlsx("data-raw/model-inputs/targets.xlsx")
targets_and_bau <- inner_join(bau, targets) %>%
pivot_longer(cols = (2:5),
names_to = "target_type",
values_to = "value")
#now data for the benefit model
#fuel and electricity prices
fuel_prices <- read_rds("data-raw/model-inputs/fuel-forecasts.rds")
electricity_prices <- read_rds("data-raw/model-inputs/energy_price_forecast.rds")
#energ intensity of ev's and the grid
energy_consumption <- read_rds("data-raw/model-inputs/ev_energy_consumption.rds")
energy_intensity <- read_xlsx("data-raw/AEMO/emissions-intensity-grid.xlsx",
sheet = "step_change") %>%
clean_names() %>%
complete(year = (2051:2060)) %>%
arrange(year) %>%
na.locf()
#km travelled
km_travelled <- read_rds("data-raw/model-inputs/km_traveled.rds")
#FOR THE MOMENT, TO CHANGE
fleet <- read_rds("data-raw/model-inputs/projected_fleet_in-100.rds")
usethis::use_data(
cost_curves,
targets_and_bau,
fuel_prices,
electricity_prices,
energy_consumption,
energy_intensity,
km_travelled,
fleet,
internal = FALSE,
overwrite = TRUE)
document()
cost_curves %>% view()
late_pp <- fleet_eff_sim(.in_estimate = "late_pp")
central <- fleet_eff_sim(.in_estimate = "central")
early_pp <- fleet_eff_sim(.in_estimate = "early_pp")
View(late_pp)
View(central)
View(early_pp)
